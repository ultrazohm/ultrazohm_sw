-- -------------------------------------------------------------
-- 
-- File Name: C:\ultrazohm_sw\ip_cores\parallel_8_cost_function\hdlsrc\parallel_8_cost_function\parallel_8_cost_function_src_Subsystem.vhd
-- Created: 2022-10-18 09:53:42
-- 
-- Generated by MATLAB 9.12 and HDL Coder 3.20
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: parallel_8_cost_function_src_Subsystem
-- Source Path: parallel_8_cost_function/HDL_DUT1/Subsystem
-- Hierarchy Level: 1
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;
USE work.parallel_8_cost_function_src_HDL_DUT1_pkg.ALL;

ENTITY parallel_8_cost_function_src_Subsystem IS
  PORT( clk                               :   IN    std_logic;
        reset                             :   IN    std_logic;
        enb                               :   IN    std_logic;
        Predicton                         :   IN    vector_of_std_logic_vector32(0 TO 31);  -- single [32]
        id_ref                            :   IN    std_logic_vector(31 DOWNTO 0);  -- single
        iq_ref                            :   IN    std_logic_vector(31 DOWNTO 0);  -- single
        ix_ref                            :   IN    std_logic_vector(31 DOWNTO 0);  -- single
        iy_ref                            :   IN    std_logic_vector(31 DOWNTO 0);  -- single
        J1                                :   OUT   std_logic_vector(31 DOWNTO 0);  -- single
        J2                                :   OUT   std_logic_vector(31 DOWNTO 0);  -- single
        J3                                :   OUT   std_logic_vector(31 DOWNTO 0);  -- single
        J4                                :   OUT   std_logic_vector(31 DOWNTO 0);  -- single
        J5                                :   OUT   std_logic_vector(31 DOWNTO 0);  -- single
        J6                                :   OUT   std_logic_vector(31 DOWNTO 0);  -- single
        J7                                :   OUT   std_logic_vector(31 DOWNTO 0);  -- single
        J8                                :   OUT   std_logic_vector(31 DOWNTO 0)  -- single
        );
END parallel_8_cost_function_src_Subsystem;


ARCHITECTURE rtl OF parallel_8_cost_function_src_Subsystem IS

  -- Component Declarations
  COMPONENT parallel_8_cost_function_src_MATLAB_Function
    PORT( clk                             :   IN    std_logic;
          reset                           :   IN    std_logic;
          enb                             :   IN    std_logic;
          prediction                      :   IN    vector_of_std_logic_vector32(0 TO 3);  -- single [4]
          id_ref                          :   IN    std_logic_vector(31 DOWNTO 0);  -- single
          iq_ref                          :   IN    std_logic_vector(31 DOWNTO 0);  -- single
          ix_ref                          :   IN    std_logic_vector(31 DOWNTO 0);  -- single
          iy_ref                          :   IN    std_logic_vector(31 DOWNTO 0);  -- single
          J                               :   OUT   std_logic_vector(31 DOWNTO 0)  -- single
          );
  END COMPONENT;

  -- Component Configuration Statements
  FOR ALL : parallel_8_cost_function_src_MATLAB_Function
    USE ENTITY work.parallel_8_cost_function_src_MATLAB_Function(rtl);

  -- Signals
  SIGNAL Demux_out1                       : vector_of_std_logic_vector32(0 TO 3);  -- ufix32 [4]
  SIGNAL reduced_reg                      : vector_of_std_logic_vector32(0 TO 5);  -- ufix32 [6]
  SIGNAL reduced_reg_next                 : vector_of_std_logic_vector32(0 TO 5);  -- ufix32 [6]
  SIGNAL id_ref_1                         : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL reduced_reg_1                    : vector_of_std_logic_vector32(0 TO 5);  -- ufix32 [6]
  SIGNAL reduced_reg_next_1               : vector_of_std_logic_vector32(0 TO 5);  -- ufix32 [6]
  SIGNAL iq_ref_1                         : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL reduced_reg_2                    : vector_of_std_logic_vector32(0 TO 5);  -- ufix32 [6]
  SIGNAL reduced_reg_next_2               : vector_of_std_logic_vector32(0 TO 5);  -- ufix32 [6]
  SIGNAL ix_ref_1                         : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL reduced_reg_3                    : vector_of_std_logic_vector32(0 TO 5);  -- ufix32 [6]
  SIGNAL reduced_reg_next_3               : vector_of_std_logic_vector32(0 TO 5);  -- ufix32 [6]
  SIGNAL iy_ref_1                         : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL J                                : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL Demux_out2                       : vector_of_std_logic_vector32(0 TO 3);  -- ufix32 [4]
  SIGNAL MATLAB_Function1_out1            : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL Demux_out3                       : vector_of_std_logic_vector32(0 TO 3);  -- ufix32 [4]
  SIGNAL MATLAB_Function2_out1            : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL Demux_out4                       : vector_of_std_logic_vector32(0 TO 3);  -- ufix32 [4]
  SIGNAL MATLAB_Function3_out1            : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL Demux_out5                       : vector_of_std_logic_vector32(0 TO 3);  -- ufix32 [4]
  SIGNAL MATLAB_Function4_out1            : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL Demux_out6                       : vector_of_std_logic_vector32(0 TO 3);  -- ufix32 [4]
  SIGNAL MATLAB_Function5_out1            : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL Demux_out7                       : vector_of_std_logic_vector32(0 TO 3);  -- ufix32 [4]
  SIGNAL MATLAB_Function6_out1            : std_logic_vector(31 DOWNTO 0);  -- ufix32
  SIGNAL Demux_out8                       : vector_of_std_logic_vector32(0 TO 3);  -- ufix32 [4]
  SIGNAL MATLAB_Function7_out1            : std_logic_vector(31 DOWNTO 0);  -- ufix32

BEGIN
  u_MATLAB_Function : parallel_8_cost_function_src_MATLAB_Function
    PORT MAP( clk => clk,
              reset => reset,
              enb => enb,
              prediction => Demux_out1,  -- single [4]
              id_ref => id_ref_1,  -- single
              iq_ref => iq_ref_1,  -- single
              ix_ref => ix_ref_1,  -- single
              iy_ref => iy_ref_1,  -- single
              J => J  -- single
              );

  u_MATLAB_Function1 : parallel_8_cost_function_src_MATLAB_Function
    PORT MAP( clk => clk,
              reset => reset,
              enb => enb,
              prediction => Demux_out2,  -- single [4]
              id_ref => id_ref_1,  -- single
              iq_ref => iq_ref_1,  -- single
              ix_ref => ix_ref_1,  -- single
              iy_ref => iy_ref_1,  -- single
              J => MATLAB_Function1_out1  -- single
              );

  u_MATLAB_Function2 : parallel_8_cost_function_src_MATLAB_Function
    PORT MAP( clk => clk,
              reset => reset,
              enb => enb,
              prediction => Demux_out3,  -- single [4]
              id_ref => id_ref_1,  -- single
              iq_ref => iq_ref_1,  -- single
              ix_ref => ix_ref_1,  -- single
              iy_ref => iy_ref_1,  -- single
              J => MATLAB_Function2_out1  -- single
              );

  u_MATLAB_Function3 : parallel_8_cost_function_src_MATLAB_Function
    PORT MAP( clk => clk,
              reset => reset,
              enb => enb,
              prediction => Demux_out4,  -- single [4]
              id_ref => id_ref_1,  -- single
              iq_ref => iq_ref_1,  -- single
              ix_ref => ix_ref_1,  -- single
              iy_ref => iy_ref_1,  -- single
              J => MATLAB_Function3_out1  -- single
              );

  u_MATLAB_Function4 : parallel_8_cost_function_src_MATLAB_Function
    PORT MAP( clk => clk,
              reset => reset,
              enb => enb,
              prediction => Demux_out5,  -- single [4]
              id_ref => id_ref_1,  -- single
              iq_ref => iq_ref_1,  -- single
              ix_ref => ix_ref_1,  -- single
              iy_ref => iy_ref_1,  -- single
              J => MATLAB_Function4_out1  -- single
              );

  u_MATLAB_Function5 : parallel_8_cost_function_src_MATLAB_Function
    PORT MAP( clk => clk,
              reset => reset,
              enb => enb,
              prediction => Demux_out6,  -- single [4]
              id_ref => id_ref_1,  -- single
              iq_ref => iq_ref_1,  -- single
              ix_ref => ix_ref_1,  -- single
              iy_ref => iy_ref_1,  -- single
              J => MATLAB_Function5_out1  -- single
              );

  u_MATLAB_Function6 : parallel_8_cost_function_src_MATLAB_Function
    PORT MAP( clk => clk,
              reset => reset,
              enb => enb,
              prediction => Demux_out7,  -- single [4]
              id_ref => id_ref_1,  -- single
              iq_ref => iq_ref_1,  -- single
              ix_ref => ix_ref_1,  -- single
              iy_ref => iy_ref_1,  -- single
              J => MATLAB_Function6_out1  -- single
              );

  u_MATLAB_Function7 : parallel_8_cost_function_src_MATLAB_Function
    PORT MAP( clk => clk,
              reset => reset,
              enb => enb,
              prediction => Demux_out8,  -- single [4]
              id_ref => id_ref_1,  -- single
              iq_ref => iq_ref_1,  -- single
              ix_ref => ix_ref_1,  -- single
              iy_ref => iy_ref_1,  -- single
              J => MATLAB_Function7_out1  -- single
              );

  Demux_out1(0) <= Predicton(0);
  Demux_out1(1) <= Predicton(1);
  Demux_out1(2) <= Predicton(2);
  Demux_out1(3) <= Predicton(3);

  reduced_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        reduced_reg(0) <= X"00000000";
        reduced_reg(1) <= X"00000000";
        reduced_reg(2) <= X"00000000";
        reduced_reg(3) <= X"00000000";
        reduced_reg(4) <= X"00000000";
        reduced_reg(5) <= X"00000000";
      ELSIF enb = '1' THEN
        reduced_reg(0) <= reduced_reg_next(0);
        reduced_reg(1) <= reduced_reg_next(1);
        reduced_reg(2) <= reduced_reg_next(2);
        reduced_reg(3) <= reduced_reg_next(3);
        reduced_reg(4) <= reduced_reg_next(4);
        reduced_reg(5) <= reduced_reg_next(5);
      END IF;
    END IF;
  END PROCESS reduced_process;

  id_ref_1 <= reduced_reg(5);
  reduced_reg_next(0) <= id_ref;
  reduced_reg_next(1) <= reduced_reg(0);
  reduced_reg_next(2) <= reduced_reg(1);
  reduced_reg_next(3) <= reduced_reg(2);
  reduced_reg_next(4) <= reduced_reg(3);
  reduced_reg_next(5) <= reduced_reg(4);

  reduced_1_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        reduced_reg_1(0) <= X"00000000";
        reduced_reg_1(1) <= X"00000000";
        reduced_reg_1(2) <= X"00000000";
        reduced_reg_1(3) <= X"00000000";
        reduced_reg_1(4) <= X"00000000";
        reduced_reg_1(5) <= X"00000000";
      ELSIF enb = '1' THEN
        reduced_reg_1(0) <= reduced_reg_next_1(0);
        reduced_reg_1(1) <= reduced_reg_next_1(1);
        reduced_reg_1(2) <= reduced_reg_next_1(2);
        reduced_reg_1(3) <= reduced_reg_next_1(3);
        reduced_reg_1(4) <= reduced_reg_next_1(4);
        reduced_reg_1(5) <= reduced_reg_next_1(5);
      END IF;
    END IF;
  END PROCESS reduced_1_process;

  iq_ref_1 <= reduced_reg_1(5);
  reduced_reg_next_1(0) <= iq_ref;
  reduced_reg_next_1(1) <= reduced_reg_1(0);
  reduced_reg_next_1(2) <= reduced_reg_1(1);
  reduced_reg_next_1(3) <= reduced_reg_1(2);
  reduced_reg_next_1(4) <= reduced_reg_1(3);
  reduced_reg_next_1(5) <= reduced_reg_1(4);

  reduced_2_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        reduced_reg_2(0) <= X"00000000";
        reduced_reg_2(1) <= X"00000000";
        reduced_reg_2(2) <= X"00000000";
        reduced_reg_2(3) <= X"00000000";
        reduced_reg_2(4) <= X"00000000";
        reduced_reg_2(5) <= X"00000000";
      ELSIF enb = '1' THEN
        reduced_reg_2(0) <= reduced_reg_next_2(0);
        reduced_reg_2(1) <= reduced_reg_next_2(1);
        reduced_reg_2(2) <= reduced_reg_next_2(2);
        reduced_reg_2(3) <= reduced_reg_next_2(3);
        reduced_reg_2(4) <= reduced_reg_next_2(4);
        reduced_reg_2(5) <= reduced_reg_next_2(5);
      END IF;
    END IF;
  END PROCESS reduced_2_process;

  ix_ref_1 <= reduced_reg_2(5);
  reduced_reg_next_2(0) <= ix_ref;
  reduced_reg_next_2(1) <= reduced_reg_2(0);
  reduced_reg_next_2(2) <= reduced_reg_2(1);
  reduced_reg_next_2(3) <= reduced_reg_2(2);
  reduced_reg_next_2(4) <= reduced_reg_2(3);
  reduced_reg_next_2(5) <= reduced_reg_2(4);

  reduced_3_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        reduced_reg_3(0) <= X"00000000";
        reduced_reg_3(1) <= X"00000000";
        reduced_reg_3(2) <= X"00000000";
        reduced_reg_3(3) <= X"00000000";
        reduced_reg_3(4) <= X"00000000";
        reduced_reg_3(5) <= X"00000000";
      ELSIF enb = '1' THEN
        reduced_reg_3(0) <= reduced_reg_next_3(0);
        reduced_reg_3(1) <= reduced_reg_next_3(1);
        reduced_reg_3(2) <= reduced_reg_next_3(2);
        reduced_reg_3(3) <= reduced_reg_next_3(3);
        reduced_reg_3(4) <= reduced_reg_next_3(4);
        reduced_reg_3(5) <= reduced_reg_next_3(5);
      END IF;
    END IF;
  END PROCESS reduced_3_process;

  iy_ref_1 <= reduced_reg_3(5);
  reduced_reg_next_3(0) <= iy_ref;
  reduced_reg_next_3(1) <= reduced_reg_3(0);
  reduced_reg_next_3(2) <= reduced_reg_3(1);
  reduced_reg_next_3(3) <= reduced_reg_3(2);
  reduced_reg_next_3(4) <= reduced_reg_3(3);
  reduced_reg_next_3(5) <= reduced_reg_3(4);

  Demux_out2(0) <= Predicton(4);
  Demux_out2(1) <= Predicton(5);
  Demux_out2(2) <= Predicton(6);
  Demux_out2(3) <= Predicton(7);

  Demux_out3(0) <= Predicton(8);
  Demux_out3(1) <= Predicton(9);
  Demux_out3(2) <= Predicton(10);
  Demux_out3(3) <= Predicton(11);

  Demux_out4(0) <= Predicton(12);
  Demux_out4(1) <= Predicton(13);
  Demux_out4(2) <= Predicton(14);
  Demux_out4(3) <= Predicton(15);

  Demux_out5(0) <= Predicton(16);
  Demux_out5(1) <= Predicton(17);
  Demux_out5(2) <= Predicton(18);
  Demux_out5(3) <= Predicton(19);

  Demux_out6(0) <= Predicton(20);
  Demux_out6(1) <= Predicton(21);
  Demux_out6(2) <= Predicton(22);
  Demux_out6(3) <= Predicton(23);

  Demux_out7(0) <= Predicton(24);
  Demux_out7(1) <= Predicton(25);
  Demux_out7(2) <= Predicton(26);
  Demux_out7(3) <= Predicton(27);

  Demux_out8(0) <= Predicton(28);
  Demux_out8(1) <= Predicton(29);
  Demux_out8(2) <= Predicton(30);
  Demux_out8(3) <= Predicton(31);

  J1 <= J;

  J2 <= MATLAB_Function1_out1;

  J3 <= MATLAB_Function2_out1;

  J4 <= MATLAB_Function3_out1;

  J5 <= MATLAB_Function4_out1;

  J6 <= MATLAB_Function5_out1;

  J7 <= MATLAB_Function6_out1;

  J8 <= MATLAB_Function7_out1;

END rtl;

