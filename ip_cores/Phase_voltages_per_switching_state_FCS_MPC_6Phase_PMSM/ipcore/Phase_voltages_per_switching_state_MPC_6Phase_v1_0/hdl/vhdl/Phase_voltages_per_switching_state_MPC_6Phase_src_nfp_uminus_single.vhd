-- -------------------------------------------------------------
-- 
-- File Name: C:\ultrazohm_sw\ip_cores\Phase_voltages_per_switching_state_FCS_MPC_6Phase_PMSM\hdlsrc\Phase_voltages_per_switching_state_MPC_6Phase\Phase_voltages_per_switching_state_MPC_6Phase_src_nfp_uminus_single.vhd
-- Created: 2022-09-01 10:37:08
-- 
-- Generated by MATLAB 9.12 and HDL Coder 3.20
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: Phase_voltages_per_switching_state_MPC_6Phase_src_nfp_uminus_single
-- Source Path: Phase_voltages_per_switching_state_MPC_6Phase/HDL_DUT/MATLAB Function/nfp_uminus_single
-- Hierarchy Level: 2
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY Phase_voltages_per_switching_state_MPC_6Phase_src_nfp_uminus_single IS
  PORT( nfp_in                            :   IN    std_logic_vector(31 DOWNTO 0);  -- ufix32
        nfp_out                           :   OUT   std_logic_vector(31 DOWNTO 0)  -- ufix32
        );
END Phase_voltages_per_switching_state_MPC_6Phase_src_nfp_uminus_single;


ARCHITECTURE rtl OF Phase_voltages_per_switching_state_MPC_6Phase_src_nfp_uminus_single IS

  -- Signals
  SIGNAL nfp_in_unsigned                  : unsigned(31 DOWNTO 0);  -- ufix32
  SIGNAL XS                               : std_logic;  -- ufix1
  SIGNAL XE                               : unsigned(7 DOWNTO 0);  -- ufix8
  SIGNAL XM                               : unsigned(22 DOWNTO 0);  -- ufix23
  SIGNAL Constant1_out1                   : std_logic;  -- ufix1
  SIGNAL Constant_out1                    : std_logic;  -- ufix1
  SIGNAL Switch_out1                      : std_logic;  -- ufix1
  SIGNAL nfp_out_pack                     : unsigned(31 DOWNTO 0);  -- ufix32

BEGIN
  nfp_in_unsigned <= unsigned(nfp_in);

  -- Split 32 bit word into FP sign, exponent, mantissa
  XS <= nfp_in_unsigned(31);
  XE <= nfp_in_unsigned(30 DOWNTO 23);
  XM <= nfp_in_unsigned(22 DOWNTO 0);

  Constant1_out1 <= '1';

  Constant_out1 <= '0';

  
  Switch_out1 <= Constant1_out1 WHEN XS = '0' ELSE
      Constant_out1;

  -- Combine FP sign, exponent, mantissa into 32 bit word
  nfp_out_pack <= Switch_out1 & XE & XM;

  nfp_out <= std_logic_vector(nfp_out_pack);

END rtl;

