-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj\hdlsrc\uz_mpc_delay_comp\delay_com_ip_src_delay_comp.vhd
-- Created: 2022-08-23 17:30:12
-- 
-- Generated by MATLAB 9.10 and HDL Coder 3.18
-- 
-- 
-- -------------------------------------------------------------
-- Rate and Clocking Details
-- -------------------------------------------------------------
-- Model base rate: 1e-08
-- Target subsystem base rate: 1e-08
-- 
-- 
-- Clock Enable  Sample Time
-- -------------------------------------------------------------
-- ce_out        1e-08
-- -------------------------------------------------------------
-- 
-- 
-- Output Signal                 Clock Enable  Sample Time
-- -------------------------------------------------------------
-- id_pred_pu                    ce_out        1e-08
-- iq_pred_pu                    ce_out        1e-08
-- ix_pred_pu                    ce_out        1e-08
-- iy_pred_pu                    ce_out        1e-08
-- id_pred_pu_AXI                ce_out        1e-08
-- iq_pred_pu_AXI                ce_out        1e-08
-- ix_pred_pu_AXI                ce_out        1e-08
-- iy_pred_pu_AXI                ce_out        1e-08
-- calc_done                     ce_out        1e-08
-- -------------------------------------------------------------
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: delay_com_ip_src_delay_comp
-- Source Path: uz_mpc_delay_comp/delay_comp
-- Hierarchy Level: 0
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY delay_com_ip_src_delay_comp IS
  PORT( clk                               :   IN    std_logic;
        reset                             :   IN    std_logic;
        clk_enable                        :   IN    std_logic;
        id_pu                             :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En16
        iq_pu                             :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En16
        ix_pu                             :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En11
        iy_pu                             :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En11
        vd_pu                             :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        vq_pu                             :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        vx_pu                             :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        vy_pu                             :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        omega_m_pu                        :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
        Rs_over_ZB_AXI                    :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
        Ts_times_ZB_over_Ld_AXI           :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
        Ts_times_ZB_over_Lq_AXI           :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
        Ts_times_ZB_over_Lx_AXI           :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
        Ts_times_ZB_over_Ly_AXI           :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
        Ld_over_LB_AXI                    :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
        Lq_over_LB_AXI                    :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
        psi_pm_over_psiB_AXI              :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
        polepairs_AXI                     :   IN    std_logic_vector(31 DOWNTO 0);  -- uint32
        trigger                           :   IN    std_logic;
        ce_out                            :   OUT   std_logic;
        id_pred_pu                        :   OUT   std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        iq_pred_pu                        :   OUT   std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        ix_pred_pu                        :   OUT   std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        iy_pred_pu                        :   OUT   std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        id_pred_pu_AXI                    :   OUT   std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        iq_pred_pu_AXI                    :   OUT   std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        ix_pred_pu_AXI                    :   OUT   std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        iy_pred_pu_AXI                    :   OUT   std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
        calc_done                         :   OUT   std_logic
        );
END delay_com_ip_src_delay_comp;


ARCHITECTURE rtl OF delay_com_ip_src_delay_comp IS

  -- Component Declarations
  COMPONENT delay_com_ip_src_Detect_Rise_Positive
    PORT( clk                             :   IN    std_logic;
          reset                           :   IN    std_logic;
          enb                             :   IN    std_logic;
          U                               :   IN    std_logic;
          Y                               :   OUT   std_logic
          );
  END COMPONENT;

  COMPONENT delay_com_ip_src_delay_compensation
    PORT( vd_pu                           :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
          vq_pu                           :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
          vx_pu                           :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
          vy_pu                           :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
          id_k_pu                         :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En16
          iq_k_pu                         :   IN    std_logic_vector(26 DOWNTO 0);  -- sfix27_En16
          ix_k_pu                         :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En11
          iy_k_pu                         :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En11
          omega_m_pu                      :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
          Ts_times_ZB_over_Ld             :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
          Ts_times_ZB_over_Lq             :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
          Ts_times_ZB_over_Lx             :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
          Ts_times_ZB_over_Ly             :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
          Rs_over_ZB                      :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
          Ld_over_LB                      :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
          Lq_over_LB                      :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
          psi_pm_over_psiB                :   IN    std_logic_vector(17 DOWNTO 0);  -- sfix18_En15
          polepairs                       :   IN    std_logic_vector(31 DOWNTO 0);  -- uint32
          id_delay_pu                     :   OUT   std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
          iq_delay_pu                     :   OUT   std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
          ix_delay_pu                     :   OUT   std_logic_vector(26 DOWNTO 0);  -- sfix27_En24
          iy_delay_pu                     :   OUT   std_logic_vector(26 DOWNTO 0)  -- sfix27_En24
          );
  END COMPONENT;

  -- Component Configuration Statements
  FOR ALL : delay_com_ip_src_Detect_Rise_Positive
    USE ENTITY work.delay_com_ip_src_Detect_Rise_Positive(rtl);

  FOR ALL : delay_com_ip_src_delay_compensation
    USE ENTITY work.delay_com_ip_src_delay_compensation(rtl);

  -- Signals
  SIGNAL enb                              : std_logic;
  SIGNAL Delay_out1                       : std_logic;
  SIGNAL Detect_Rise_Positive_out1        : std_logic;
  SIGNAL switch_compare_1                 : std_logic;
  SIGNAL vd_pu_signed                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Delay59_out1                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Switch28_out1                    : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Delay57_out1                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL switch_compare_1_1               : std_logic;
  SIGNAL vq_pu_signed                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Delay60_out1                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Switch29_out1                    : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Delay58_out1                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL switch_compare_1_2               : std_logic;
  SIGNAL vx_pu_signed                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Delay71_out1                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Switch30_out1                    : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Delay70_out1                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL switch_compare_1_3               : std_logic;
  SIGNAL vy_pu_signed                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Delay73_out1                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Switch31_out1                    : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Delay72_out1                     : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL switch_compare_1_4               : std_logic;
  SIGNAL id_pu_signed                     : signed(26 DOWNTO 0);  -- sfix27_En16
  SIGNAL Delay2_out1                      : signed(26 DOWNTO 0);  -- sfix27_En16
  SIGNAL Switch_out1                      : signed(26 DOWNTO 0);  -- sfix27_En16
  SIGNAL Delay3_out1                      : signed(26 DOWNTO 0);  -- sfix27_En16
  SIGNAL switch_compare_1_5               : std_logic;
  SIGNAL iq_pu_signed                     : signed(26 DOWNTO 0);  -- sfix27_En16
  SIGNAL Delay4_out1                      : signed(26 DOWNTO 0);  -- sfix27_En16
  SIGNAL Switch1_out1                     : signed(26 DOWNTO 0);  -- sfix27_En16
  SIGNAL Delay5_out1                      : signed(26 DOWNTO 0);  -- sfix27_En16
  SIGNAL switch_compare_1_6               : std_logic;
  SIGNAL ix_pu_signed                     : signed(17 DOWNTO 0);  -- sfix18_En11
  SIGNAL Delay6_out1                      : signed(17 DOWNTO 0);  -- sfix18_En11
  SIGNAL Switch2_out1                     : signed(17 DOWNTO 0);  -- sfix18_En11
  SIGNAL Delay7_out1                      : signed(17 DOWNTO 0);  -- sfix18_En11
  SIGNAL switch_compare_1_7               : std_logic;
  SIGNAL iy_pu_signed                     : signed(17 DOWNTO 0);  -- sfix18_En11
  SIGNAL Delay8_out1                      : signed(17 DOWNTO 0);  -- sfix18_En11
  SIGNAL Switch3_out1                     : signed(17 DOWNTO 0);  -- sfix18_En11
  SIGNAL Delay9_out1                      : signed(17 DOWNTO 0);  -- sfix18_En11
  SIGNAL switch_compare_1_8               : std_logic;
  SIGNAL omega_m_pu_signed                : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay12_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Switch5_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay13_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL switch_compare_1_9               : std_logic;
  SIGNAL Ts_times_ZB_over_Ld_AXI_signed   : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay27_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Switch13_out1                    : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay28_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL switch_compare_1_10              : std_logic;
  SIGNAL Ts_times_ZB_over_Lq_AXI_signed   : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay29_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Switch14_out1                    : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay30_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL switch_compare_1_11              : std_logic;
  SIGNAL Ts_times_ZB_over_Lx_AXI_signed   : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay31_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Switch15_out1                    : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay32_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL switch_compare_1_12              : std_logic;
  SIGNAL Ts_times_ZB_over_Ly_AXI_signed   : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay33_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Switch16_out1                    : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay34_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL switch_compare_1_13              : std_logic;
  SIGNAL Rs_over_ZB_AXI_signed            : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay25_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Switch12_out1                    : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay26_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL switch_compare_1_14              : std_logic;
  SIGNAL Ld_over_LB_AXI_signed            : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay35_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Switch17_out1                    : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay36_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL switch_compare_1_15              : std_logic;
  SIGNAL Lq_over_LB_AXI_signed            : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay37_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Switch18_out1                    : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay38_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL switch_compare_1_16              : std_logic;
  SIGNAL psi_pm_over_psiB_AXI_signed      : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay39_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Switch19_out1                    : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL Delay40_out1                     : signed(17 DOWNTO 0);  -- sfix18_En15
  SIGNAL switch_compare_1_17              : std_logic;
  SIGNAL polepairs_AXI_unsigned           : unsigned(31 DOWNTO 0);  -- uint32
  SIGNAL Delay43_out1                     : unsigned(31 DOWNTO 0);  -- uint32
  SIGNAL Switch21_out1                    : unsigned(31 DOWNTO 0);  -- uint32
  SIGNAL Delay44_out1                     : unsigned(31 DOWNTO 0);  -- uint32
  SIGNAL id_delay_pu                      : std_logic_vector(26 DOWNTO 0);  -- ufix27
  SIGNAL iq_delay_pu                      : std_logic_vector(26 DOWNTO 0);  -- ufix27
  SIGNAL ix_delay_pu                      : std_logic_vector(26 DOWNTO 0);  -- ufix27
  SIGNAL iy_delay_pu                      : std_logic_vector(26 DOWNTO 0);  -- ufix27
  SIGNAL id_delay_pu_signed               : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL id_delay_pu_1                    : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL iq_delay_pu_signed               : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL iq_delay_pu_1                    : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL ix_delay_pu_signed               : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL ix_delay_pu_1                    : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL iy_delay_pu_signed               : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL iy_delay_pu_1                    : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL Delay11_out1                     : std_logic;
  SIGNAL id_delay_pu_2                    : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL iq_delay_pu_2                    : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL ix_delay_pu_2                    : signed(26 DOWNTO 0);  -- sfix27_En24
  SIGNAL iy_delay_pu_2                    : signed(26 DOWNTO 0);  -- sfix27_En24

BEGIN
  u_Detect_Rise_Positive : delay_com_ip_src_Detect_Rise_Positive
    PORT MAP( clk => clk,
              reset => reset,
              enb => clk_enable,
              U => Delay_out1,
              Y => Detect_Rise_Positive_out1
              );

  u_delay_compensation : delay_com_ip_src_delay_compensation
    PORT MAP( vd_pu => std_logic_vector(Switch28_out1),  -- sfix27_En24
              vq_pu => std_logic_vector(Switch29_out1),  -- sfix27_En24
              vx_pu => std_logic_vector(Switch30_out1),  -- sfix27_En24
              vy_pu => std_logic_vector(Switch31_out1),  -- sfix27_En24
              id_k_pu => std_logic_vector(Switch_out1),  -- sfix27_En16
              iq_k_pu => std_logic_vector(Switch1_out1),  -- sfix27_En16
              ix_k_pu => std_logic_vector(Switch2_out1),  -- sfix18_En11
              iy_k_pu => std_logic_vector(Switch3_out1),  -- sfix18_En11
              omega_m_pu => std_logic_vector(Switch5_out1),  -- sfix18_En15
              Ts_times_ZB_over_Ld => std_logic_vector(Switch13_out1),  -- sfix18_En15
              Ts_times_ZB_over_Lq => std_logic_vector(Switch14_out1),  -- sfix18_En15
              Ts_times_ZB_over_Lx => std_logic_vector(Switch15_out1),  -- sfix18_En15
              Ts_times_ZB_over_Ly => std_logic_vector(Switch16_out1),  -- sfix18_En15
              Rs_over_ZB => std_logic_vector(Switch12_out1),  -- sfix18_En15
              Ld_over_LB => std_logic_vector(Switch17_out1),  -- sfix18_En15
              Lq_over_LB => std_logic_vector(Switch18_out1),  -- sfix18_En15
              psi_pm_over_psiB => std_logic_vector(Switch19_out1),  -- sfix18_En15
              polepairs => std_logic_vector(Switch21_out1),  -- uint32
              id_delay_pu => id_delay_pu,  -- sfix27_En24
              iq_delay_pu => iq_delay_pu,  -- sfix27_En24
              ix_delay_pu => ix_delay_pu,  -- sfix27_En24
              iy_delay_pu => iy_delay_pu  -- sfix27_En24
              );

  enb <= clk_enable;

  Delay_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay_out1 <= '0';
      ELSIF enb = '1' THEN
        Delay_out1 <= trigger;
      END IF;
    END IF;
  END PROCESS Delay_process;


  
  switch_compare_1 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  vd_pu_signed <= signed(vd_pu);

  Delay59_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay59_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay59_out1 <= vd_pu_signed;
      END IF;
    END IF;
  END PROCESS Delay59_process;


  Delay57_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay57_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay57_out1 <= Switch28_out1;
      END IF;
    END IF;
  END PROCESS Delay57_process;


  
  Switch28_out1 <= Delay57_out1 WHEN switch_compare_1 = '0' ELSE
      Delay59_out1;

  
  switch_compare_1_1 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  vq_pu_signed <= signed(vq_pu);

  Delay60_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay60_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay60_out1 <= vq_pu_signed;
      END IF;
    END IF;
  END PROCESS Delay60_process;


  Delay58_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay58_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay58_out1 <= Switch29_out1;
      END IF;
    END IF;
  END PROCESS Delay58_process;


  
  Switch29_out1 <= Delay58_out1 WHEN switch_compare_1_1 = '0' ELSE
      Delay60_out1;

  
  switch_compare_1_2 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  vx_pu_signed <= signed(vx_pu);

  Delay71_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay71_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay71_out1 <= vx_pu_signed;
      END IF;
    END IF;
  END PROCESS Delay71_process;


  Delay70_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay70_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay70_out1 <= Switch30_out1;
      END IF;
    END IF;
  END PROCESS Delay70_process;


  
  Switch30_out1 <= Delay70_out1 WHEN switch_compare_1_2 = '0' ELSE
      Delay71_out1;

  
  switch_compare_1_3 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  vy_pu_signed <= signed(vy_pu);

  Delay73_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay73_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay73_out1 <= vy_pu_signed;
      END IF;
    END IF;
  END PROCESS Delay73_process;


  Delay72_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay72_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay72_out1 <= Switch31_out1;
      END IF;
    END IF;
  END PROCESS Delay72_process;


  
  Switch31_out1 <= Delay72_out1 WHEN switch_compare_1_3 = '0' ELSE
      Delay73_out1;

  
  switch_compare_1_4 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  id_pu_signed <= signed(id_pu);

  Delay2_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay2_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay2_out1 <= id_pu_signed;
      END IF;
    END IF;
  END PROCESS Delay2_process;


  Delay3_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay3_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay3_out1 <= Switch_out1;
      END IF;
    END IF;
  END PROCESS Delay3_process;


  
  Switch_out1 <= Delay3_out1 WHEN switch_compare_1_4 = '0' ELSE
      Delay2_out1;

  
  switch_compare_1_5 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  iq_pu_signed <= signed(iq_pu);

  Delay4_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay4_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay4_out1 <= iq_pu_signed;
      END IF;
    END IF;
  END PROCESS Delay4_process;


  Delay5_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay5_out1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        Delay5_out1 <= Switch1_out1;
      END IF;
    END IF;
  END PROCESS Delay5_process;


  
  Switch1_out1 <= Delay5_out1 WHEN switch_compare_1_5 = '0' ELSE
      Delay4_out1;

  
  switch_compare_1_6 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  ix_pu_signed <= signed(ix_pu);

  Delay6_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay6_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay6_out1 <= ix_pu_signed;
      END IF;
    END IF;
  END PROCESS Delay6_process;


  Delay7_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay7_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay7_out1 <= Switch2_out1;
      END IF;
    END IF;
  END PROCESS Delay7_process;


  
  Switch2_out1 <= Delay7_out1 WHEN switch_compare_1_6 = '0' ELSE
      Delay6_out1;

  
  switch_compare_1_7 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  iy_pu_signed <= signed(iy_pu);

  Delay8_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay8_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay8_out1 <= iy_pu_signed;
      END IF;
    END IF;
  END PROCESS Delay8_process;


  Delay9_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay9_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay9_out1 <= Switch3_out1;
      END IF;
    END IF;
  END PROCESS Delay9_process;


  
  Switch3_out1 <= Delay9_out1 WHEN switch_compare_1_7 = '0' ELSE
      Delay8_out1;

  
  switch_compare_1_8 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  omega_m_pu_signed <= signed(omega_m_pu);

  Delay12_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay12_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay12_out1 <= omega_m_pu_signed;
      END IF;
    END IF;
  END PROCESS Delay12_process;


  Delay13_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay13_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay13_out1 <= Switch5_out1;
      END IF;
    END IF;
  END PROCESS Delay13_process;


  
  Switch5_out1 <= Delay13_out1 WHEN switch_compare_1_8 = '0' ELSE
      Delay12_out1;

  
  switch_compare_1_9 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  Ts_times_ZB_over_Ld_AXI_signed <= signed(Ts_times_ZB_over_Ld_AXI);

  Delay27_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay27_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay27_out1 <= Ts_times_ZB_over_Ld_AXI_signed;
      END IF;
    END IF;
  END PROCESS Delay27_process;


  Delay28_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay28_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay28_out1 <= Switch13_out1;
      END IF;
    END IF;
  END PROCESS Delay28_process;


  
  Switch13_out1 <= Delay28_out1 WHEN switch_compare_1_9 = '0' ELSE
      Delay27_out1;

  
  switch_compare_1_10 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  Ts_times_ZB_over_Lq_AXI_signed <= signed(Ts_times_ZB_over_Lq_AXI);

  Delay29_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay29_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay29_out1 <= Ts_times_ZB_over_Lq_AXI_signed;
      END IF;
    END IF;
  END PROCESS Delay29_process;


  Delay30_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay30_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay30_out1 <= Switch14_out1;
      END IF;
    END IF;
  END PROCESS Delay30_process;


  
  Switch14_out1 <= Delay30_out1 WHEN switch_compare_1_10 = '0' ELSE
      Delay29_out1;

  
  switch_compare_1_11 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  Ts_times_ZB_over_Lx_AXI_signed <= signed(Ts_times_ZB_over_Lx_AXI);

  Delay31_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay31_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay31_out1 <= Ts_times_ZB_over_Lx_AXI_signed;
      END IF;
    END IF;
  END PROCESS Delay31_process;


  Delay32_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay32_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay32_out1 <= Switch15_out1;
      END IF;
    END IF;
  END PROCESS Delay32_process;


  
  Switch15_out1 <= Delay32_out1 WHEN switch_compare_1_11 = '0' ELSE
      Delay31_out1;

  
  switch_compare_1_12 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  Ts_times_ZB_over_Ly_AXI_signed <= signed(Ts_times_ZB_over_Ly_AXI);

  Delay33_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay33_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay33_out1 <= Ts_times_ZB_over_Ly_AXI_signed;
      END IF;
    END IF;
  END PROCESS Delay33_process;


  Delay34_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay34_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay34_out1 <= Switch16_out1;
      END IF;
    END IF;
  END PROCESS Delay34_process;


  
  Switch16_out1 <= Delay34_out1 WHEN switch_compare_1_12 = '0' ELSE
      Delay33_out1;

  
  switch_compare_1_13 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  Rs_over_ZB_AXI_signed <= signed(Rs_over_ZB_AXI);

  Delay25_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay25_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay25_out1 <= Rs_over_ZB_AXI_signed;
      END IF;
    END IF;
  END PROCESS Delay25_process;


  Delay26_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay26_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay26_out1 <= Switch12_out1;
      END IF;
    END IF;
  END PROCESS Delay26_process;


  
  Switch12_out1 <= Delay26_out1 WHEN switch_compare_1_13 = '0' ELSE
      Delay25_out1;

  
  switch_compare_1_14 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  Ld_over_LB_AXI_signed <= signed(Ld_over_LB_AXI);

  Delay35_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay35_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay35_out1 <= Ld_over_LB_AXI_signed;
      END IF;
    END IF;
  END PROCESS Delay35_process;


  Delay36_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay36_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay36_out1 <= Switch17_out1;
      END IF;
    END IF;
  END PROCESS Delay36_process;


  
  Switch17_out1 <= Delay36_out1 WHEN switch_compare_1_14 = '0' ELSE
      Delay35_out1;

  
  switch_compare_1_15 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  Lq_over_LB_AXI_signed <= signed(Lq_over_LB_AXI);

  Delay37_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay37_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay37_out1 <= Lq_over_LB_AXI_signed;
      END IF;
    END IF;
  END PROCESS Delay37_process;


  Delay38_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay38_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay38_out1 <= Switch18_out1;
      END IF;
    END IF;
  END PROCESS Delay38_process;


  
  Switch18_out1 <= Delay38_out1 WHEN switch_compare_1_15 = '0' ELSE
      Delay37_out1;

  
  switch_compare_1_16 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  psi_pm_over_psiB_AXI_signed <= signed(psi_pm_over_psiB_AXI);

  Delay39_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay39_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay39_out1 <= psi_pm_over_psiB_AXI_signed;
      END IF;
    END IF;
  END PROCESS Delay39_process;


  Delay40_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay40_out1 <= to_signed(16#00000#, 18);
      ELSIF enb = '1' THEN
        Delay40_out1 <= Switch19_out1;
      END IF;
    END IF;
  END PROCESS Delay40_process;


  
  Switch19_out1 <= Delay40_out1 WHEN switch_compare_1_16 = '0' ELSE
      Delay39_out1;

  
  switch_compare_1_17 <= '1' WHEN Detect_Rise_Positive_out1 > '0' ELSE
      '0';

  polepairs_AXI_unsigned <= unsigned(polepairs_AXI);

  Delay43_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay43_out1 <= to_unsigned(0, 32);
      ELSIF enb = '1' THEN
        Delay43_out1 <= polepairs_AXI_unsigned;
      END IF;
    END IF;
  END PROCESS Delay43_process;


  Delay44_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay44_out1 <= to_unsigned(0, 32);
      ELSIF enb = '1' THEN
        Delay44_out1 <= Switch21_out1;
      END IF;
    END IF;
  END PROCESS Delay44_process;


  
  Switch21_out1 <= Delay44_out1 WHEN switch_compare_1_17 = '0' ELSE
      Delay43_out1;

  id_delay_pu_signed <= signed(id_delay_pu);

  reduced_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        id_delay_pu_1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        id_delay_pu_1 <= id_delay_pu_signed;
      END IF;
    END IF;
  END PROCESS reduced_process;


  id_pred_pu <= std_logic_vector(id_delay_pu_1);

  iq_delay_pu_signed <= signed(iq_delay_pu);

  reduced_1_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        iq_delay_pu_1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        iq_delay_pu_1 <= iq_delay_pu_signed;
      END IF;
    END IF;
  END PROCESS reduced_1_process;


  iq_pred_pu <= std_logic_vector(iq_delay_pu_1);

  ix_delay_pu_signed <= signed(ix_delay_pu);

  reduced_2_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        ix_delay_pu_1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        ix_delay_pu_1 <= ix_delay_pu_signed;
      END IF;
    END IF;
  END PROCESS reduced_2_process;


  ix_pred_pu <= std_logic_vector(ix_delay_pu_1);

  iy_delay_pu_signed <= signed(iy_delay_pu);

  reduced_3_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        iy_delay_pu_1 <= to_signed(16#0000000#, 27);
      ELSIF enb = '1' THEN
        iy_delay_pu_1 <= iy_delay_pu_signed;
      END IF;
    END IF;
  END PROCESS reduced_3_process;


  iy_pred_pu <= std_logic_vector(iy_delay_pu_1);

  id_pred_pu_AXI <= std_logic_vector(id_delay_pu_1);

  iq_pred_pu_AXI <= std_logic_vector(iq_delay_pu_1);

  ix_pred_pu_AXI <= std_logic_vector(ix_delay_pu_1);

  iy_pred_pu_AXI <= std_logic_vector(iy_delay_pu_1);

  Delay11_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset = '1' THEN
        Delay11_out1 <= '0';
      ELSIF enb = '1' THEN
        Delay11_out1 <= Detect_Rise_Positive_out1;
      END IF;
    END IF;
  END PROCESS Delay11_process;


  ce_out <= clk_enable;

  calc_done <= Delay11_out1;

END rtl;

